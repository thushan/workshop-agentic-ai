/**
 * SixPivot Dark for reveal.js
 * Based on user's existing theme; tokenised + contrast tuned.
 * Replace --brand-500 with the official hex for perfect accuracy.
 */

/* Fonts */
@import url(./fonts/league-gothic/league-gothic.css);
@import url(https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic);

/* ---------- Tokens ---------- */
:root {
  /* Base neutrals (dark) */
  --bg-0: #0e1114;   /* viewport */
  --bg-1: #151a1f;   /* slide surface */
  --bg-2: #1b232a;   /* cards / blocks */
  --ink-1: #e6edf3;  /* primary text */
  --ink-2: #a9b6c3;  /* muted text */
  --rule:  #2a3641;  /* borders */

  /* Brand green scale (derived from --brand-500) */
  --brand-50:  #edf6ef;
  --brand-100: #d6ead8;
  --brand-200: #b7d6bb;
  --brand-300: #90bf96;
  --brand-400: #73b17a;
  --brand-500: #61a462; /* ← set this to exact SixPivot green when known */
  --brand-600: #4e8950;
  --brand-700: #3f6d40;
  --brand-800: #305332;
  --brand-900: #223b24;

  /* Accent/semantic (kept subtle on dark) */
  --accent-blue: #1b8beb;
  --accent-cyan: #00aed8;
  --accent-pink: #ff0088;

  /* Reveal variables bridge */
  --r-background-color: var(--bg-0);
  --r-main-font: Lato, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  --r-main-font-size: 36px;
  --r-code-font: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  --r-main-color: var(--ink-1);
  --r-heading-font: "League Gothic", Impact, sans-serif;
  --r-heading-color: var(--brand-500);
  --r-heading-line-height: 0.9;
  --r-heading-letter-spacing: 0.5px;
  --r-heading-text-transform: uppercase;
  --r-heading-font-weight: 400;
  --r-heading1-size: 3.6em;
  --r-heading2-size: 1.9em;
  --r-heading3-size: 1.55em;
  --r-heading4-size: 1.05em;

  --r-link-color: var(--brand-400);
  --r-link-color-dark: var(--brand-600);
  --r-link-color-hover: var(--brand-300);

  --r-block-margin: 20px;
  --r-example-font-size: 28px;
  --r-example-meta-font-size: 26px;
  --r-blockquote-smaller-font-size: 28px;

  --r-selection-background-color: #2b9e6a; /* brand-600-ish */
  --r-selection-color: #fff;
}

/* Prefer dark */
@media (prefers-color-scheme: dark) {
  :root { color-scheme: dark; }
}

/* ---------- Global ---------- */
.reveal-viewport {
  background: var(--bg-0) !important; /* remove leftover Solarized bg */
}

.reveal {
  font-family: var(--r-main-font);
  font-size: var(--r-main-font-size);
  color: var(--r-main-color);
}

.reveal ::selection { color: var(--r-selection-color); background: var(--r-selection-background-color); }
.reveal ::-moz-selection { color: var(--r-selection-color); background: var(--r-selection-background-color); }

.reveal .slides section,
.reveal .slides section > section {
  line-height: 1.35;
  font-weight: 400;
}

/* ---------- Headers ---------- */
.reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
  margin: 0 0 var(--r-block-margin) 0;
  color: var(--r-heading-color);
  font-family: var(--r-heading-font);
  font-weight: var(--r-heading-font-weight);
  line-height: var(--r-heading-line-height);
  letter-spacing: var(--r-heading-letter-spacing);
  text-transform: var(--r-heading-text-transform);
  text-shadow: none;
  word-wrap: break-word;
}

/* ---------- Typography & Blocks ---------- */
.reveal p { margin: var(--r-block-margin) 0; line-height: 1.45; color: var(--ink-1); }
.reveal small { font-size: 0.65em; color: var(--ink-2); }
.reveal strong { font-weight: 700; }

.reveal blockquote {
  width: 80%;
  margin: var(--r-block-margin) auto;
  padding: 12px 14px;
  background: color-mix(in oklab, var(--bg-2), white 2%);
  border-left: 4px solid var(--brand-600);
  box-shadow: 0 0 0 1px var(--rule) inset;
  font-style: italic;
}

.reveal table {
  margin: auto;
  border-collapse: collapse;
}
.reveal table th, .reveal table td {
  padding: 0.3em 0.6em;
  border-bottom: 1px solid var(--rule);
}
.reveal table th { color: var(--ink-1); }

/* Lists */
.reveal ol, .reveal ul { display: inline-block; text-align: left; margin: 0 0 0 1em; }
.reveal ul ul, .reveal ul ol, .reveal ol ol, .reveal ol ul { margin-left: 40px; }

/* Media sizing */
.reveal img, .reveal video, .reveal iframe { max-width: 95%; max-height: 95%; margin: var(--r-block-margin) 0; }

/* ---------- Links & Focus ---------- */
.reveal a {
  color: var(--r-link-color);
  text-decoration: none;
  border-bottom: 1px solid color-mix(in oklab, var(--r-link-color), transparent 70%);
  transition: color .15s ease, border-color .15s ease, box-shadow .15s ease;
}
.reveal a:hover { color: var(--r-link-color-hover); border-color: color-mix(in oklab, var(--r-link-color-hover), transparent 60%); }
.reveal a:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--brand-400), transparent 60%);
  border-radius: 4px;
}

/* ---------- Code ---------- */
.reveal pre {
  width: 92%;
  margin: var(--r-block-margin) auto;
  text-align: left;
  font-size: 0.7em;               /* ↑ from 0.55em for projector legibility */
  font-family: var(--r-code-font);
  line-height: 1.35em;
  background: #0b0f12;
  color: #e6edf3;
  border: 1px solid var(--rule);
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}
.reveal pre code {
  display: block;
  padding: 12px;
  overflow: auto;
  max-height: 560px;              /* allow taller code on big screens */
  tab-size: 2;
}

/* Inline code */
.reveal :not(pre) > code {
  font-family: var(--r-code-font);
  background: color-mix(in oklab, var(--bg-2), white 3%);
  color: var(--brand-100);
  border: 1px solid var(--rule);
  border-radius: 6px;
  padding: 0.05em 0.35em;
}

/* ---------- Components ---------- */
.reveal .controls { color: var(--brand-400); }
.reveal .progress { background: rgba(0,0,0,.25); color: var(--brand-400); }

/* Light background slide support */
section.has-light-background, section.has-light-background :is(h1,h2,h3,h4,h5,h6) { color: #222; }

/* Print */
@media print { .backgrounds { background-color: var(--r-background-color); } }

/* Accessibility options */
@media (prefers-reduced-motion: reduce) {
  .reveal * { transition: none !important; }
}
